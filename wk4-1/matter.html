<html>
    <head>
        <title>My first Matter.js project</title>
        <script src="matter.js"></script>

    </head>

<body>
<script language="javascript">

var Engine = Matter.Engine,
    Render = Matter.Render,
    Runner = Matter.Runner,
    Bodies = Matter.Bodies,
    Composite = Matter.Composite;
    World = Matter.World;

// create an engine
var engine = Engine.create();
const world = engine.world;

// create a renderer
const render = Render.create({
    element: document.body,
    engine: engine,
    canvas: document.getElementById('world'),
    options: {
        width: 800,
        height: 600,
        wireframes: false // to display images instead of wireframes
    }
});

// create two boxes and a ground
const boxA = Bodies.rectangle(500, 100, 300, 200, {
    render: {
        sprite: {
            texture: 'fireSmall.png',
            xScale: 0.3,
            yScale: 0.3
        }
    }
});
var boxB = Bodies.rectangle(450, 150, 50, 80);
// Load the exported JSON file
// fetch('shape.json')
//         .then(response => response.json())
//         .then(data => {
//             const shapeKey = 'fireSmall';  // Key to access the shape
//             const shapeData = data[shapeKey];  // Access the shape (fireSmall)
            
//             if (shapeData && shapeData.fixtures && shapeData.fixtures.length > 0) {
//                 // Loop through each fixture and create bodies from vertices
//                 shapeData.fixtures.forEach(fixture => {
//                     const vertices = fixture.vertices.map(verts => verts.map(v => ({ x: v.x, y: v.y })));

//                     // Create a body from the vertices
//                     const customBody = Matter.Bodies.fromVertices(400, 200, vertices, {
//                         render: {
//                             sprite: {
//                                 texture: fireSmall.png,  // Replace with your image path
//                                 xScale: 1.0,
//                                 yScale: 1.0
//                             }
//                         }
//                     }, true);  // 'true' handles concave shapes

//                     // Add the body to the world
//                     Matter.World.add(engine.world, customBody);
//                 });
//             } else {
//                 console.error("No valid fixtures or vertices found in the shape");
//             }
//         })
//         .catch(error => console.error("Error loading JSON:", error));
var ground = Bodies.rectangle(500, 610, 900, 60, { isStatic: true });

// add all of the bodies to the world
World.add(engine.world, [boxA, boxB, ground]);
//run the engine
Engine.run(engine);
// run the renderer
Render.run(render);

// create runner
var runner = Runner.create();

// run the engine
Runner.run(runner, engine);


</script>

</body>
</html>